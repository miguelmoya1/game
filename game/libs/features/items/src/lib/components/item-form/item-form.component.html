<form
  [formGroup]="itemForm()"
  class="flex flex-col gap-4 p-4 bg-gray-800 rounded-lg shadow-md"
>
  <div class="flex flex-col gap-1">
    <label for="itemName" class="text-sm font-semibold text-primary-200">{{
      'ITEM_NAME' | translate
    }}</label>
    <input
      id="itemName"
      type="text"
      formControlName="name"
      placeholder="{{ 'ITEM_NAME' | translate }}"
      class="px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white focus:outline-none focus:ring-2 focus:ring-primary-300"
    />
    @if (name.invalid && (name.dirty || name.touched)) {
      <div class="text-xs text-red-400 mt-1">
        @if (name.errors?.['required']) {
          {{ 'NAME_REQUIRED' | translate }}
        }
        @if (name.errors?.['minlength']) {
          {{ 'NAME_MIN_LENGTH' | translate }}
        }
      </div>
    }
  </div>

  <div class="flex flex-col gap-1">
    <label
      for="itemDescription"
      class="text-sm font-semibold text-primary-200"
      >{{ 'ITEM_DESCRIPTION_OPTIONAL' | translate }}</label
    >
    <textarea
      id="itemDescription"
      formControlName="description"
      placeholder="{{ 'ITEM_DESCRIPTION_PLACEHOLDER' | translate }}"
      class="px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white focus:outline-none focus:ring-2 focus:ring-primary-300 min-h-[80px]"
    ></textarea>
  </div>

  <!-- IMAGE -->

  <div class="flex flex-col gap-1">
    <label for="itemType" class="text-sm font-semibold text-primary-200">{{
      'ITEM_TYPE' | translate
    }}</label>
    <select
      id="itemType"
      formControlName="itemType"
      class="px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white"
    >
      <option [ngValue]="null">-- {{ 'NONE' | translate }} --</option>
      @for (type of itemTypes; track $index) {
        <option [value]="type">{{ type | translate }}</option>
      }
    </select>
  </div>

  <div class="flex flex-col gap-1">
    <label for="itemRark" class="text-sm font-semibold text-primary-200">{{
      'ITEM_RANK' | translate
    }}</label>
    <select
      id="itemRark"
      formControlName="rank"
      class="px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white"
    >
      <option [ngValue]="null">-- {{ 'NONE' | translate }} --</option>
      @for (rank of ranks; track $index) {
        <option [value]="rank">{{ rank | translate }}</option>
      }
    </select>
  </div>

  <div class="flex flex-col gap-1">
    <label for="itemSet" class="text-sm font-semibold text-primary-200">{{
      'ITEM_SET' | translate
    }}</label>
    <select
      id="itemSet"
      formControlName="setId"
      class="px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white"
    >
      <option [ngValue]="null">-- {{ 'NONE' | translate }} --</option>
      @for (set of setsOptions.value(); track $index) {
        <option [value]="set.id">{{ set.name | translate }}</option>
      }
    </select>
  </div>

  <div class="flex flex-col gap-1">
    <label for="itemRarity" class="text-sm font-semibold text-primary-200">{{
      'ITEM_SPAWN_CATEGORIES' | translate
    }}</label>
    <select
      id="itemRarity"
      formControlName="spawnCategories"
      multiple
      class="px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white"
    >
      @for (category of spawnCategoriesOptions; track $index) {
        <option [value]="category">{{ category | translate }}</option>
      }
    </select>
  </div>

  <lib-effects-form [effectsArray]="effectsArray" />
</form>
