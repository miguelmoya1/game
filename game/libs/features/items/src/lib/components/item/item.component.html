@let itemTemplate = item();

<div class="flex items-center justify-between">
  <game-title type="h2">{{ itemTemplate.name | translate }}</game-title>
  @if (itemTemplate.rank) {
    <game-rank [rank]="itemTemplate.rank" />
  }
</div>

<div class="flex gap-4 items-start">
  <div
    class="w-16 h-16 flex items-center justify-center bg-gray-700 rounded overflow-hidden"
  >
    @if (itemTemplate.imageUrl) {
      <img
        [src]="itemTemplate.imageUrl"
        [alt]="itemTemplate.name"
        class="object-cover w-full h-full"
      />
    } @else {
      <span class="text-xs text-gray-400">IMG</span>
    }
  </div>
  <div class="flex-1">
    <game-title type="h4">
      {{ 'TYPE' | translate }}: {{ itemTemplate.itemType | translate }}
    </game-title>

    @if (itemTemplate.description) {
      <game-text> {{ itemTemplate.description | translate }} </game-text>
    }
  </div>
</div>

@if (itemTemplate.effects) {
  <div class="flex flex-col gap-2 mt-3">
    <game-title type="h4">
      {{ 'EFFECTS' | translate }}
    </game-title>

    <div class="flex flex-col gap-2">
      @for (effect of itemTemplate.effects; track $index) {
        <lib-effect [effect]="effect" />
      }
    </div>
  </div>
}

@if (itemTemplate.spawnCategories && itemTemplate.spawnCategories.length > 0) {
  <div class="flex flex-col gap-2 mt-3">
    <game-title type="h4">
      {{ 'SPAWN_CATEGORIES' | translate }}
    </game-title>

    <div class="flex flex-wrap gap-2 mt-2">
      @for (category of itemTemplate.spawnCategories; track $index) {
        <game-chip> {{ category | translate }} </game-chip>
      }
    </div>
  </div>
}

@if (set(); as set) {
  <lib-set [set]="set" />
}
